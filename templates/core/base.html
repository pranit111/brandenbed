{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BrandenBed Living Spaces - {% trans "Premium Student Housing in Berlin" %}{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Modern Theme CSS -->
    <link rel="stylesheet" href="{% static 'css/modern-theme.css' %}">
    
    <!-- Custom CSS with New Design System -->
    <style>
        /* Tailwind Configuration */
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': {
                            50: '#ECFDF5',
                            100: '#D1FAE5',
                            500: '#0F766E',
                            600: '#059669',
                            900: '#064E3B'
                        },
                        'secondary': {
                            50: '#FFF7ED',
                            100: '#FFEDD5',
                            500: '#F97316',
                            600: '#F59E0B',
                            900: '#B45309'
                        },
                        'accent': {
                            50: '#FAF5FF',
                            100: '#F3E8FF',
                            500: '#7C3AED',
                            600: '#EC4899',
                            900: '#581C87'
                        }
                    },
                    fontFamily: {
                        'primary': ['Plus Jakarta Sans', 'sans-serif'],
                        'secondary': ['Inter', 'sans-serif']
                    },
                    borderRadius: {
                        'brand': '16px',
                        'brand-lg': '24px'
                    }
                }
            }
        }
        
        /* Enhanced Animations */
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .animate-gradient {
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        
        /* Modern Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Hero Text Effects */
        .text-gradient {
            background: linear-gradient(135deg, #0F766E, #F97316, #7C3AED);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Modern Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #F1F5F9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #0F766E, #059669);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #059669, #0F766E);
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body class="font-primary bg-gradient-to-br from-slate-50 via-white to-slate-100">
    
    <!-- Navigation -->
    {% include 'core/includes/navbar.html' %}
    
    <!-- Main Content with navbar spacing -->
    <main class="relative pt-20">
        {% block content %}
        {% endblock %}
    </main>
    
    <!-- Footer -->
    {% include 'core/includes/footer.html' %}
    
    <!-- Enhanced JavaScript -->
    <script>
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Language dropdown toggle
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('mobile-language-dropdown');
            dropdown.classList.toggle('hidden');
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.language-selector')) {
                    dropdown.classList.add('hidden');
                }
            });
        }
        
        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, observerOptions);
        
        // Observe elements for animations
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.fade-in, .slide-in, .scale-in').forEach(el => {
                observer.observe(el);
            });
            
            // Enhanced button interactions
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px) scale(1.02)';
                });
                
                btn.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
            
            // Enhanced card interactions
            document.querySelectorAll('.card, .dashboard-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-6px)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        });
        
        // Performance optimization for scroll effects
        let ticking = false;
        
        function updateScrollEffects() {
            const scrollTop = window.pageYOffset;
            
            // Parallax effects
            document.querySelectorAll('.parallax').forEach(element => {
                const speed = element.dataset.speed || 0.5;
                element.style.transform = `translateY(${scrollTop * speed}px)`;
            });
            
            ticking = false;
        }
        
        window.addEventListener('scroll', function() {
            if (!ticking) {
                requestAnimationFrame(updateScrollEffects);
                ticking = true;
            }
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>